{"version":3,"sources":["logo.svg","actions.js","long.op.js","App.js","store.js","my.worker.js","index.js"],"names":["HELLO","PREFIX","HELLO_SUCCESS","SUCCESS","fibonacci","num","calc","x","y","window","innerWidth","innerHeight","trans1","trans2","trans3","trans4","Card","useSpring","xy","config","mass","tension","friction","props","set","class","onMouseMove","clientX","clientY","div","style","transform","interpolate","App","dispatch","useDispatch","React","useState","img","setImg","className","href","onClick","Promise","resolve","then","i","type","ACTIONS","payload","resolvers","res","worker","Worker","reducers","combineReducers","state","action","store","createStore","applyMiddleware","thunks","workerAsPromiseMiddleware","workerMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4NAAe,I,mBCEFA,EAAQC,SAAS,QACjBC,EAAgB,QAAUC,UCFhC,SAASC,EAAUC,GACxB,OAAIA,GAAO,EAAU,EACdD,EAAUC,EAAM,GAAKD,EAAUC,EAAM,G,WC0C9C,IAAMC,EAAO,SAACC,EAAGC,GAAJ,MAAU,CAACD,EAAIE,OAAOC,WAAa,EAAGF,EAAIC,OAAOE,YAAc,IACtEC,EAAS,SAACL,EAAGC,GAAJ,4BAAyBD,EAAI,GAA7B,cAAqCC,EAAI,GAAzC,UACTK,EAAS,SAACN,EAAGC,GAAJ,4BAAyBD,EAAI,EAAI,GAAjC,cAAyCC,EAAI,EAAI,IAAjD,UACTM,EAAS,SAACP,EAAGC,GAAJ,4BAAyBD,EAAI,EAAI,IAAjC,cAA0CC,EAAI,EAAI,IAAlD,UACTO,EAAS,SAACR,EAAGC,GAAJ,4BAAyBD,EAAI,IAA7B,cAAsCC,EAAI,IAA1C,UAEf,SAASQ,IAAQ,IAAD,EACOC,aAAU,iBAAO,CAAEC,GAAI,CAAC,EAAG,GAAIC,OAAQ,CAAEC,KAAM,GAAIC,QAAS,IAAKC,SAAU,SADlF,mBACPC,EADO,KACAC,EADA,KAEd,OACE,sBAAKC,MAAM,YAAYC,YAAa,gBAAYnB,EAAZ,EAAGoB,QAAqBnB,EAAxB,EAAeoB,QAAf,OAAgCJ,EAAI,CAAEN,GAAIZ,EAAKC,EAAGC,MAAtF,UACE,cAAC,IAASqB,IAAV,CAAcJ,MAAM,QAAQK,MAAO,CAAEC,UAAWR,EAAML,GAAGc,YAAYpB,MACrE,cAAC,IAASiB,IAAV,CAAcJ,MAAM,QAAQK,MAAO,CAAEC,UAAWR,EAAML,GAAGc,YAAYnB,MACrE,cAAC,IAASgB,IAAV,CAAcJ,MAAM,QAAQK,MAAO,CAAEC,UAAWR,EAAML,GAAGc,YAAYlB,MACrE,cAAC,IAASe,IAAV,CAAcJ,MAAM,QAAQK,MAAO,CAAEC,UAAWR,EAAML,GAAGc,YAAYjB,SAI5DkB,MAvDf,WACE,IAAMC,EAAWC,cADJ,EAESC,IAAMC,SAAS,IAFxB,mBAENC,EAFM,KAEDC,EAFC,KAGb,OACE,sBAAKC,UAAU,MAAf,UACE,0DACA,kEAAoC,mBAAGC,KAAK,GAAR,iCAApC,kGACqB,uBADrB,mIAC2J,uBAD3J,gHAGqB,mBAAGA,KAAK,kDAAR,+BAHrB,6BAIA,sBAAKD,UAAU,UAAf,UACE,qMACA,sBAAKA,UAAU,UAAf,UACE,wBAAQE,QAAS,WACfH,EAAO,iBACPL,GAAS,WACP,OAAOS,QAAQC,QAAQxC,EAAU,QAChCyC,MAAK,SAACC,GACPP,EAAOO,OALX,4BAQA,wBAAQJ,QAAS,WACfH,EAAO,iBACPL,EAAS,CACPa,KAAMC,EACNC,QAAS,GACTC,UAAW,KACVL,MAAK,SAACM,GACPZ,EAAOY,EAAIF,aAPf,+BAWF,4CAAeX,QAEjB,qBAAKE,UAAU,YAAf,SAA2B,cAACxB,EAAD,U,eCnC3BoC,EAAS,ICNA,WACb,OAAO,IAAIC,OAAO,IAA0B,2CDe9C,IAAMC,EAAWC,YAAgB,CAC/B,IATF,WAAsC,IAAzBC,EAAwB,uDAAhB,OAAQC,EAAQ,uCACnC,OAAQA,EAAOV,MACb,KAAKC,EACH,MAAO,aAAeS,EAAOR,QAE/B,QAAS,OAAOO,MEHdE,EFUeC,YACnBL,EACAM,YACEC,IACAC,4BACAC,2BAAiBX,KEbrBY,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUR,MAAOA,EAAjB,SAAwB,cAAC,EAAD,QAE1BS,SAASC,eAAe,W","file":"static/js/main.b1c99690.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import { PREFIX, SUCCESS } from 'of-redux-and-workers';\n\nexport const HELLO = PREFIX + 'HELLO';\nexport const HELLO_SUCCESS = 'HELLO' + SUCCESS","// the mighty one...\nexport function fibonacci(num) {\n  if (num <= 1) return 1;\n  return fibonacci(num - 1) + fibonacci(num - 2);\n}","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { useDispatch } from 'react-redux';\nimport * as ACTIONS from './actions';\nimport { fibonacci } from './long.op';\nimport { useSpring, animated } from 'react-spring'\nfunction App() {\n  const dispatch = useDispatch();\n  const [img, setImg] = React.useState('');\n  return (\n    <div className=\"App\">\n      <h3>of-redux-and-worker demo</h3>\n      <p>This demo is an illustration for <a href=\"\">of-redux-and-worker</a> library use case, ie, doing heavy calculus or work in the main UI thread\n      and UI responsivness.<br />For the heavy work, I use the mighty fibonnaci suite calculus in the most uneffective way (the recursive one) with a seed of 45.<br />\n        This app call the fibonacci calculus in 2 way: once with redux-thunk, once with a worker.\n        The animation is a <a href=\"https://www.react-spring.io/docs/hooks/examples\">react-spring demo</a> taken from their site.</p>\n      <div className=\"actions\">\n        <p>Click \"Go with thunk\" or \"Go with worker\" and move your pointer hover the picture to see the difference on how the animation responde while processing the calculus.</p>\n        <div className=\"buttons\">\n          <button onClick={() => {\n            setImg('start working');\n            dispatch(() => {\n              return Promise.resolve(fibonacci(45));\n            }).then((i) => {\n              setImg(i)\n            })\n          }}>Go with thunks</button>\n          <button onClick={() => {\n            setImg('start working');\n            dispatch({\n              type: ACTIONS.HELLO,\n              payload: 45,\n              resolvers: {}\n            }).then((res) => {\n              setImg(res.payload)\n            })\n          }}>Go with Worker</button>\n        </div>\n        <span>Result: {img}</span>\n      </div>\n      <div className=\"animation\"><Card /></div>\n    </div>\n  );\n}\nconst calc = (x, y) => [x - window.innerWidth / 2, y - window.innerHeight / 2]\nconst trans1 = (x, y) => `translate3d(${x / 10}px,${y / 10}px,0)`\nconst trans2 = (x, y) => `translate3d(${x / 8 + 35}px,${y / 8 - 230}px,0)`\nconst trans3 = (x, y) => `translate3d(${x / 6 - 250}px,${y / 6 - 200}px,0)`\nconst trans4 = (x, y) => `translate3d(${x / 3.5}px,${y / 3.5}px,0)`\n\nfunction Card() {\n  const [props, set] = useSpring(() => ({ xy: [0, 0], config: { mass: 10, tension: 550, friction: 140 } }))\n  return (\n    <div class=\"container\" onMouseMove={({ clientX: x, clientY: y }) => set({ xy: calc(x, y) })}>\n      <animated.div class=\"card1\" style={{ transform: props.xy.interpolate(trans1) }} />\n      <animated.div class=\"card2\" style={{ transform: props.xy.interpolate(trans2) }} />\n      <animated.div class=\"card3\" style={{ transform: props.xy.interpolate(trans3) }} />\n      <animated.div class=\"card4\" style={{ transform: props.xy.interpolate(trans4) }} />\n    </div>\n  )\n}\nexport default App;\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { workerAsPromiseMiddleware, workerMiddleware } from 'of-redux-and-workers';\nimport thunks from 'redux-thunk';\nimport * as ACTIONS from './actions';\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport Worker from 'worker-loader!./my.worker.js';\nconst worker = new Worker();\n\nfunction app(state = 'none', action) {\n  switch (action.type) {\n    case ACTIONS.HELLO_SUCCESS: {\n      return 'Button 1: ' + action.payload;\n    }\n    default: return state;\n  }\n}\nconst reducers = combineReducers({\n  'app': app\n});\n\nexport default () => createStore(\n  reducers,\n  applyMiddleware(\n    thunks,\n    workerAsPromiseMiddleware, // worker as promise must be set **BEFORE** workerMiddleware!\n    workerMiddleware(worker)),\n);","export default function() {\n  return new Worker(__webpack_public_path__ + \"static/js/my.worker.f79c40e5.worker.js\");\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\nimport createStore from './store';\nimport {\n  Provider\n} from 'react-redux';\n\nconst store = createStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}><App /></Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}